{"version":3,"sources":["../../../../src/data/memory-cache/memory-cache.js"],"names":["getItems","require","connect","sortedSetJSON","canSet","overwrite","helpers","indexOf","connection","props","items","id","i","length","setAdd","set","item","algebra","concat","module","exports","behavior","baseConnect","_sets","getSetData","_getListData","setsData","setData","_instances","getInstance","removeSet","setKey","noUpdate","sets","updateSets","updateInstance","idProp","updateSet","setDatum","newSet","newSetKey","oldSetKey","extend","self","ids","forEach","call","addSet","data","_eachSet","cb","loop","result","undefined","_getSets","prop","push","getSets","Promise","resolve","clear","getListData","checkSet","subset","getSubset","reject","message","error","updateListData","union","getSet","then","getUnion","getData","params","res","createData","instance","has","updateData","index","splice","destroyData"],"mappings":"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","file":"memory-cache.js"}